[gd_scene load_steps=25 format=3 uid="uid://dscmmga8q16ka"]

[ext_resource type="PackedScene" uid="uid://deenkmyr1vx4w" path="res://esenas/personajes/jugador.tscn" id="1_iagpp"]
[ext_resource type="Script" path="res://scripts/objetos/spawner.gd" id="2_nxfsb"]
[ext_resource type="PackedScene" uid="uid://cmt31dabcpr2w" path="res://esenas/objetos/taza_cafe.tscn" id="3_i58ks"]
[ext_resource type="PackedScene" uid="uid://ck5bctyyks1b" path="res://assets/cafeSalioMal/estructura basica2.glb" id="4_bg0ta"]
[ext_resource type="PackedScene" uid="uid://bwmliijrgkai8" path="res://esenas/objetos/mesa.tscn" id="5_3n2v5"]
[ext_resource type="Texture2D" uid="uid://c53usghs2as0q" path="res://assets/textura/prototype-texture-with-size.png" id="6_d7uny"]
[ext_resource type="Script" path="res://esenas/controladorClientes.gd" id="7_c6ih7"]
[ext_resource type="PackedScene" uid="uid://cw5gjkqm06ult" path="res://esenas/personajes/customer.tscn" id="7_u7g3h"]
[ext_resource type="PackedScene" uid="uid://ddpp6ayua7n6m" path="res://assets/modelos/cubo/untitled.glb" id="8_o1p4m"]
[ext_resource type="PackedScene" uid="uid://b67o6u6fil22n" path="res://esenas/ui/ui_puntos.tscn" id="9_701yl"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_75duv"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_ybcq0"]
sky_material = SubResource("ProceduralSkyMaterial_75duv")

[sub_resource type="Environment" id="Environment_1s3r1"]
background_mode = 2
sky = SubResource("Sky_ybcq0")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="BoxShape3D" id="BoxShape3D_n770g"]

[sub_resource type="NavigationMesh" id="NavigationMesh_ogvng"]
vertices = PackedVector3Array(-7.65129, 0.317831, -5.79764, -7.15129, 0.317831, -6.04764, -7.15129, 0.317831, -8.54764, -12.1513, 0.317831, -8.54764, -12.1513, 0.317831, 7.70236, -7.65129, 0.317831, 7.70236, -7.65129, 0.317831, -5.79764, -12.1513, 0.317831, -8.54764, -7.15129, 0.317831, -8.54764, -7.15129, 0.317831, -6.04764, -6.15129, 0.317831, -6.04764, 4.84871, 0.317831, -6.29764, 6.34871, 0.317831, -6.04764, 6.59871, 0.317831, -8.54764, -7.15129, 0.317831, -8.54764, -6.15129, 0.317831, -6.04764, -5.90129, 0.317831, -5.54764, 4.84871, 0.317831, -6.29764, 6.59871, 0.317831, -8.54764, -5.90129, 0.317831, -5.54764, 4.59871, 0.317831, -5.54764, 4.84871, 0.317831, -6.29764, 10.8487, 0.317831, -8.54764, 6.59871, 0.317831, -8.54764, 6.34871, 0.317831, -6.04764, 6.34871, 0.317831, 7.45236, 10.8487, 0.317831, 7.45236, -2.15129, 0.317831, 6.20236, -1.90129, 0.317831, 6.95236, -1.15129, 0.317831, 6.95236, -0.901291, 0.317831, 6.20236, 0.848709, 0.317831, -2.54764, -0.901291, 0.317831, -2.54764, 4.59871, 0.317831, 6.20236, 4.59871, 0.317831, -3.79764, 0.848709, 0.317831, -2.54764, -0.901291, 0.317831, 6.20236, 4.59871, 0.317831, -3.79764, 1.09871, 0.317831, -3.79764, 0.848709, 0.317831, -2.54764, -0.901291, 0.317831, -2.54764, -1.15129, 0.317831, -3.79764, -5.90129, 0.317831, -3.79764, -5.90129, 0.317831, 6.20236, -2.15129, 0.317831, 6.20236, -0.901291, 0.317831, 7.95236, -1.15129, 0.317831, 6.95236, -1.90129, 0.317831, 6.95236, -2.15129, 0.317831, 7.95236, -7.90129, 0.317831, 13.4524, 5.84871, 0.317831, 13.4524, -0.901291, 0.317831, 7.95236, -2.15129, 0.317831, 7.95236, -2.15129, 0.317831, 7.95236, -7.65129, 0.317831, 7.95236, -7.90129, 0.317831, 13.4524, 5.84871, 0.317831, 13.4524, 5.84871, 0.317831, 7.95236, -0.901291, 0.317831, 7.95236, 10.8487, 0.317831, 7.45236, 6.34871, 0.317831, 7.45236, 5.84871, 0.317831, 7.95236, 5.84871, 0.317831, 13.4524, 10.8487, 0.317831, 13.4524, -7.65129, 0.317831, 7.95236, -7.65129, 0.317831, 7.70236, -12.1513, 0.317831, 7.70236, -12.1513, 0.317831, 13.4524, -7.90129, 0.317831, 13.4524)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(10, 9, 8), PackedInt32Array(11, 13, 12), PackedInt32Array(15, 14, 16), PackedInt32Array(16, 14, 17), PackedInt32Array(17, 14, 18), PackedInt32Array(21, 20, 19), PackedInt32Array(23, 22, 24), PackedInt32Array(24, 22, 25), PackedInt32Array(25, 22, 26), PackedInt32Array(28, 27, 29), PackedInt32Array(29, 27, 30), PackedInt32Array(30, 27, 32), PackedInt32Array(30, 32, 31), PackedInt32Array(34, 33, 35), PackedInt32Array(35, 33, 36), PackedInt32Array(39, 38, 37), PackedInt32Array(41, 40, 42), PackedInt32Array(42, 40, 44), PackedInt32Array(42, 44, 43), PackedInt32Array(46, 45, 47), PackedInt32Array(47, 45, 48), PackedInt32Array(52, 51, 49), PackedInt32Array(49, 51, 50), PackedInt32Array(55, 54, 53), PackedInt32Array(58, 57, 56), PackedInt32Array(60, 59, 61), PackedInt32Array(61, 59, 62), PackedInt32Array(62, 59, 63), PackedInt32Array(65, 64, 66), PackedInt32Array(66, 64, 68), PackedInt32Array(66, 68, 67)]
geometry_parsed_geometry_type = 1

[sub_resource type="BoxShape3D" id="BoxShape3D_aphyq"]
size = Vector3(12.9584, 5.95, 0.371094)

[sub_resource type="BoxShape3D" id="BoxShape3D_jyvc5"]
size = Vector3(5.94379, 4, 0.336548)

[sub_resource type="BoxShape3D" id="BoxShape3D_pi2wr"]
size = Vector3(4.44055, 3.10638, 0.391602)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_51uc2"]
albedo_texture = ExtResource("6_d7uny")
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="PlaneMesh" id="PlaneMesh_lal61"]
size = Vector2(24.095, 22.945)

[sub_resource type="PrismMesh" id="PrismMesh_l43ii"]

[sub_resource type="Animation" id="Animation_h2sq2"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Cube:blend_shapes/a")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_8ooep"]
resource_name = "inter"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Cube:blend_shapes/a")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.0, 1.0, 0.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_0ajjw"]
_data = {
"RESET": SubResource("Animation_h2sq2"),
"inter": SubResource("Animation_8ooep")
}

[node name="cafe" type="Node3D"]

[node name="CharacterBody3D" parent="." instance=ExtResource("1_iagpp")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_1s3r1")

[node name="Node3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0528719, 1.25691, -3.86228)
collision_mask = 2
script = ExtResource("2_nxfsb")
tazaCafe = ExtResource("3_i58ks")

[node name="tazaCafe" parent="Node3D" instance=ExtResource("3_i58ks")]

[node name="Timer" type="Timer" parent="Node3D"]
one_shot = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D"]
shape = SubResource("BoxShape3D_n770g")

[node name="edificio" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_ogvng")

[node name="cafe" parent="edificio" instance=ExtResource("4_bg0ta")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.65648, 0.0428309, -4.70254)

[node name="Cube" parent="edificio/cafe" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.884585, 0.0340226)

[node name="Cube_004" parent="edificio/cafe" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.02625, 0.884585, 0.0340226)

[node name="Cube_010" parent="edificio/cafe" index="15"]
visible = false

[node name="muros" type="StaticBody3D" parent="edificio/cafe"]

[node name="CollisionShape3D2" type="CollisionShape3D" parent="edificio/cafe/muros"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -1.0838, 0, 5.73082)
shape = SubResource("BoxShape3D_aphyq")

[node name="CollisionShape3D" type="CollisionShape3D" parent="edificio/cafe/muros"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.0431, 0, -0.00791311)
shape = SubResource("BoxShape3D_aphyq")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="edificio/cafe/muros"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 11.1656, 0, 5.48492)
shape = SubResource("BoxShape3D_aphyq")

[node name="puerta" type="StaticBody3D" parent="edificio/cafe"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 12.5009)

[node name="CollisionShape3D" type="CollisionShape3D" parent="edificio/cafe/puerta"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.99627, 2, -0.686956)
shape = SubResource("BoxShape3D_jyvc5")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="edificio/cafe/puerta"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.00415, 1.5502, -0.682745)
shape = SubResource("BoxShape3D_pi2wr")

[node name="mesa" parent="edificio" instance=ExtResource("5_3n2v5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.66599, 0.0767263, 2.66789)

[node name="mesa2" parent="edificio" instance=ExtResource("5_3n2v5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.52258, 0.0767263, 5.01136)

[node name="mesa3" parent="edificio" instance=ExtResource("5_3n2v5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.10881, 0.0767263, 5.01136)

[node name="piso" type="CSGMesh3D" parent="edificio"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.603791, 0, 2.42486)
material_override = SubResource("StandardMaterial3D_51uc2")
use_collision = true
mesh = SubResource("PlaneMesh_lal61")

[node name="cafetera" type="CSGMesh3D" parent="edificio"]
transform = Transform3D(4.37047e-08, -7.62871e-10, -1, -0.0174525, -0.999848, 0, -0.999848, 0.0174525, -4.37114e-08, -0.0731053, 0.525586, -3.77155)
use_collision = true
mesh = SubResource("PrismMesh_l43ii")

[node name="Marker3D" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.24009, 0.690258, 0.835118)

[node name="clientes" type="Node3D" parent="."]
script = ExtResource("7_c6ih7")

[node name="Timer" type="Timer" parent="clientes"]
wait_time = 3.0
autostart = true

[node name="customer5" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.69095, 0.935572, 6.53893)

[node name="customer6" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.31533, 0.935572, 3.1557)

[node name="customer7" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.3081, 0.935572, 0)

[node name="customer2" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.00933, 0.935572, 0)

[node name="customer3" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.00933, 0.935572, -4.64601)

[node name="customer4" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.00933, 0.935572, -2.86878)

[node name="customer9" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.09962, 0.935572, -2.86878)

[node name="customer10" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.09962, 0.935572, -1.39337)

[node name="customer11" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.09962, 0.935572, 1.09055)

[node name="customer12" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.09962, 0.935572, 2.42942)

[node name="customer13" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.85055, 0.935572, 2.42942)

[node name="customer14" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.85055, 0.935572, -1.39486)

[node name="customer15" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.85055, 0.935572, -3.84655)

[node name="customer16" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.85055, 0.935572, 4.25967)

[node name="customer17" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.78872, 0.935572, 3.35497)

[node name="customer18" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.62979, 0.935572, 6.12141)

[node name="customer19" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.80381, 0.935572, 4.97328)

[node name="customer8" parent="clientes" instance=ExtResource("7_u7g3h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.66251, 0.935572, 4.91067)

[node name="untitled" parent="." instance=ExtResource("8_o1p4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.99876, -9.53674e-07, 11.4654)
visible = false

[node name="AnimationPlayer" type="AnimationPlayer" parent="untitled"]
libraries = {
"": SubResource("AnimationLibrary_0ajjw")
}
autoplay = "inter"

[node name="uiPuntos" parent="." instance=ExtResource("9_701yl")]

[connection signal="area_exited" from="Node3D" to="Node3D" method="_on_area_exited"]
[connection signal="body_exited" from="Node3D" to="Node3D" method="_on_body_exited"]
[connection signal="timeout" from="Node3D/Timer" to="Node3D" method="_on_timer_timeout"]

[editable path="edificio/cafe"]
[editable path="untitled"]
